import{ad as h,a4 as g,a3 as x,af as y,a5 as C,a6 as V,a7 as t,ah as l,c as a,V as v,aA as k,ab as i,ap as d,am as w,an as b,X as B,al as A,ac as P}from"./index-78fd00a0.js";const N={class:"overflow-hidden"},S={class:"text-overflow ma-1"},j={__name:"ProductCard",props:["_id","category","description","image","name","price","sell"],setup(s){const{apiAuth:u}=P(),c=h(),n=g(),p=x(),m=s,_=async()=>{var o,r;if(!c.isLogin){p.push("/login");return}try{const{data:e}=await u.patch("/users/cart",{product:m._id,quantity:1});c.cart=e.result,n({text:"新增成功",showCloseButton:!1,snackbarProps:{timeout:2e3,color:"green",location:"bottom"}})}catch(e){const f=((r=(o=e==null?void 0:e.response)==null?void 0:o.data)==null?void 0:r.message)||"發生錯誤，請稍後再試";n({text:f,showCloseButton:!1,snackbarProps:{timeout:2e3,color:"red",location:"bottom"}})}};return(o,r)=>{const e=y("router-link");return C(),V(A,{class:"product-card rounded-lg d-flex flex-column justify-center",hover:""},{default:t(()=>[l("div",N,[a(v,{src:s.image,cover:"",height:"200",class:"img-enlarge"},null,8,["src"])]),a(k,null,{default:t(()=>[a(e,{class:"text-primary text-decoration-none",to:"/products/"+s._id},{default:t(()=>[i(d(s.name),1)]),_:1},8,["to"])]),_:1}),a(w,{style:{"white-space":"pre"}},{default:t(()=>[l("div",S,d(s.description),1)]),_:1}),a(b,{class:"justify-space-between"},{default:t(()=>[a(B,{color:"primary","prepend-icon":"mdi-cards-playing-outline",onClick:_},{default:t(()=>[i(" 我想申辦 ")]),_:1})]),_:1})]),_:1})}}};export{j as _};
